(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{529:function(e,t,n){"use strict";(function(t,r){var d=n(245);e.exports=R;var o,l=n(928);R.ReadableState=j;n(132).EventEmitter;var h=function(e,t){return e.listeners(t).length},f=n(530),c=n(39).Buffer,m=t.Uint8Array||function(){};var v=Object.create(n(210));v.inherits=n(29);var w=n(929),y=void 0;y=w&&w.debuglog?w.debuglog("stream"):function(){};var _,M=n(930),S=n(531);v.inherits(R,f);var k=["error","close","destroy","pause","resume"];function j(e,t){e=e||{};var r=t instanceof(o=o||n(154));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var d=e.highWaterMark,l=e.readableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:r&&(l||0===l)?l:h,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new M,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(_||(_=n(153).StringDecoder),this.decoder=new _(e.encoding),this.encoding=e.encoding)}function R(e){if(o=o||n(154),!(this instanceof R))return new R(e);this._readableState=new j(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),f.call(this)}function E(e,t,n,r,d){var o,l=e._readableState;null===t?(l.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,C(e)}(e,l)):(d||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof m||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(l,t)),o?e.emit("error",o):l.objectMode||t&&t.length>0?("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?l.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):L(e,l,t,!0):l.ended?e.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!n?(t=l.decoder.write(t),l.objectMode||0!==t.length?L(e,l,t,!1):O(e,l)):L(e,l,t,!1))):r||(l.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(l)}function L(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),O(e,t)}Object.defineProperty(R.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),R.prototype.destroy=S.destroy,R.prototype._undestroy=S.undestroy,R.prototype._destroy=function(e,t){this.push(null),t(e)},R.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),E(this,e,t,!1,n)},R.prototype.unshift=function(e){return E(this,e,null,!0,!1)},R.prototype.isPaused=function(){return!1===this._readableState.flowing},R.prototype.setEncoding=function(e){return _||(_=n(153).StringDecoder),this._readableState.decoder=new _(e),this._readableState.encoding=e,this};var x=8388608;function W(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(y("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?d.nextTick(D,e):D(e))}function D(e){y("emit readable"),e.emit("readable"),B(e)}function O(e,t){t.readingMore||(t.readingMore=!0,d.nextTick(T,e,t))}function T(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(y("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function U(e){y("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(y("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(y("flow",t.flowing);t.flowing&&null!==e.read(););}function H(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var p=t.head,n=1,r=p.data;e-=r.length;for(;p=p.next;){var d=p.data,o=e>d.length?d.length:e;if(o===d.length?r+=d:r+=d.slice(0,e),0===(e-=o)){o===d.length?(++n,p.next?t.head=p.next:t.head=t.tail=null):(t.head=p,p.data=d.slice(o));break}++n}return t.length-=n,r}(e,t):function(e,t){var n=c.allocUnsafe(e),p=t.head,r=1;p.data.copy(n),e-=p.data.length;for(;p=p.next;){var d=p.data,o=e>d.length?d.length:e;if(d.copy(n,n.length-e,0,o),0===(e-=o)){o===d.length?(++r,p.next?t.head=p.next:t.head=t.tail=null):(t.head=p,p.data=d.slice(o));break}++r}return t.length-=r,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,d.nextTick(J,t,e))}function J(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}R.prototype.read=function(e){y("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return y("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):C(this),null;if(0===(e=W(e,t))&&t.ended)return 0===t.length&&I(this),null;var r,d=t.needReadable;return y("need readable",d),(0===t.length||t.length-e<t.highWaterMark)&&y("length less than watermark",d=!0),t.ended||t.reading?y("reading or ended",d=!1):d&&(y("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=W(n,t))),null===(r=e>0?H(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==r&&this.emit("data",r),r},R.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},R.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,y("pipe count=%d opts=%j",o.pipesCount,t);var f=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?m:R;function c(t,r){y("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,y("cleanup"),e.removeListener("close",k),e.removeListener("finish",j),e.removeListener("drain",v),e.removeListener("error",S),e.removeListener("unpipe",c),n.removeListener("end",m),n.removeListener("end",R),n.removeListener("data",M),w=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||v())}function m(){y("onend"),e.end()}o.endEmitted?d.nextTick(f):n.once("end",f),e.on("unpipe",c);var v=function(e){return function(){var t=e._readableState;y("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&h(e,"data")&&(t.flowing=!0,B(e))}}(n);e.on("drain",v);var w=!1;var _=!1;function M(t){y("ondata"),_=!1,!1!==e.write(t)||_||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==A(o.pipes,e))&&!w&&(y("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,_=!0),n.pause())}function S(t){y("onerror",t),R(),e.removeListener("error",S),0===h(e,"error")&&e.emit("error",t)}function k(){e.removeListener("finish",j),R()}function j(){y("onfinish"),e.removeListener("close",k),R()}function R(){y("unpipe"),n.unpipe(e)}return n.on("data",M),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?l(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",S),e.once("close",k),e.once("finish",j),e.emit("pipe",n),o.flowing||(y("pipe resume"),n.resume()),e},R.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,d=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<d;i++)r[i].emit("unpipe",this,n);return this}var o=A(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},R.prototype.on=function(e,t){var n=f.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&C(this):d.nextTick(U,this))}return n},R.prototype.addListener=R.prototype.on,R.prototype.resume=function(){var e=this._readableState;return e.flowing||(y("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,d.nextTick(P,e,t))}(this,e)),this},R.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this},R.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(y("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(d){(y("wrapped data"),n.decoder&&(d=n.decoder.write(d)),n.objectMode&&null==d)||(n.objectMode||d&&d.length)&&(t.push(d)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var d=0;d<k.length;d++)e.on(k[d],this.emit.bind(this,k[d]));return this._read=function(t){y("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(R.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),R._fromList=H}).call(this,n(70),n(77))}}]);