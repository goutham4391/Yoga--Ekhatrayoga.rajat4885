(window.webpackJsonp=window.webpackJsonp||[]).push([[128],{1335:function(e,t,r){var content=r(1550);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("815b04f0",content,!0,{sourceMap:!1})},1336:function(e,t,r){var content=r(1552);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("4b62b85e",content,!0,{sourceMap:!1})},1337:function(e,t,r){var content=r(1554);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("40645628",content,!0,{sourceMap:!1})},1338:function(e,t,r){var content=r(1556);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(20).default)("a5b2aaea",content,!0,{sourceMap:!1})},1549:function(e,t,r){"use strict";r(1335)},1550:function(e,t,r){var o=r(19)((function(i){return i[1]}));o.push([e.i,"/*purgecss start ignore*/\n[data-v-a945fe10] .intro-section__content h1,[data-v-a945fe10] .intro-section__content h2,[data-v-a945fe10] .intro-section__content h3,[data-v-a945fe10] .intro-section__content h4{\n  font-size:1.25rem;\n  line-height:1.75rem\n}\n[data-v-a945fe10] .intro-section__content h1,[data-v-a945fe10] .intro-section__content h2,[data-v-a945fe10] .intro-section__content h3,[data-v-a945fe10] .intro-section__content h4{\n  font-family:sofia-pro, sans-serif\n}\n[data-v-a945fe10] .intro-section__content h1,[data-v-a945fe10] .intro-section__content h2,[data-v-a945fe10] .intro-section__content h3,[data-v-a945fe10] .intro-section__content h4{\n  margin-bottom:0.5rem\n}\n\n/*purgecss end ignore*/",""]),e.exports=o},1551:function(e,t,r){"use strict";r(1336)},1552:function(e,t,r){var o=r(19)((function(i){return i[1]}));o.push([e.i,"/*purgecss start ignore*/\n.teachers-tags__images[data-v-6ddacb19]  .feature-box--teacher{\n  --image-size:3rem\n}\n.teachers-tags__image[data-v-6ddacb19]  .feature-box__subtitle, .teachers-tags__image[data-v-6ddacb19]  .feature-box__title{\n  display:none\n}\n\n/*purgecss end ignore*/",""]),e.exports=o},1553:function(e,t,r){"use strict";r(1337)},1554:function(e,t,r){var o=r(19)((function(i){return i[1]}));o.push([e.i,"/*purgecss start ignore*/\n.program-detail-page__header[data-v-429a7e5d] .class-detail-header__add-btn{\n  display:none\n}\n.program-detail-page__comment-system[data-v-429a7e5d] .ey-comments-counter{\n  margin-left:0px\n}\n.program-detail-page__comment-system[data-v-429a7e5d] .ey-comments-input-form{\n  margin-left:0!important\n}\n.program-detail-page__comment-system[data-v-429a7e5d] .ey-comments-comment{\n  padding-left:0px\n}\n\n/*purgecss end ignore*/",""]),e.exports=o},1555:function(e,t,r){"use strict";r(1338)},1556:function(e,t,r){var o=r(19)((function(i){return i[1]}));o.push([e.i,"/*purgecss start ignore*/\n.programs-id-index-slug[data-v-14c01b68]  .description-link a{\n  --tw-text-opacity:1;\n  color:rgba(12, 100, 111, var(--tw-text-opacity))\n}\n\n/*purgecss end ignore*/",""]),e.exports=o},1985:function(e,t,r){"use strict";r.r(t);r(18),r(22),r(15),r(23);var o=r(32),n=r(0),l=r(8),c=(r(16),r(65),r(88),r(36),r(49),r(14),r(389),r(37),r(1)),d=r(10),m=r(387),f=r(1198),h=r(9),C=Object(c.defineComponent)({props:{title:{type:String,default:null},content:{type:String,default:null}},setup:function(e,t){return Object(c.onMounted)((function(){var e=document.querySelectorAll(".description-link a");e&&e.length&&h.a.setAnchorTargetBehaviour(t,e)})),{}}}),v=(r(1549),r(2)),_=Object(v.a)(C,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"intro-section flex flex-col w-full"},[r("h4",{staticClass:"intro-section__title font-bold text-xl mb-4"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),r("section",{staticClass:"intro-section__content text-base font-body description-link description-list description-paragraph",domProps:{innerHTML:e._s(e.content)}})])}),[],!1,null,"a945fe10",null).exports,y=r(386),x=r(112),w=r(388),k=r(105),O={components:{CardTag:y.a,FeatureBox:w.a},props:{teachers:{type:Array,default:function(){return[]}},tags:{type:Array,default:function(){return[{title:"All levels",type:x.a.SECONDARY,linkConfig:{location:{path:"/search",query:{search:"All levels"}}}}]}}},setup:function(){return{CardTagEnum:x.a,FeatureBoxTypeEnum:k.a}}},j=(r(1551),Object(v.a)(O,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"teachers-tags w-full"},[r("h2",{staticClass:"teachers_tags_title mb-4 font-semibold text-base"},[e._v("\n    "+e._s(e.$t("teachers.title"))+"\n  ")]),e._v(" "),r("div",{staticClass:"teachers-tags__images flex flex-row flex-wrap"},e._l(e.teachers,(function(t,o){return r("feature-box",e._b({key:o,staticClass:"teachers-tags__image rounded-full mr-2 mb-8",attrs:{"box-type":e.FeatureBoxTypeEnum.TEACHER}},"feature-box",t,!1))})),1),e._v(" "),r("h2",{staticClass:"teachers_tags__sub-title mb-4 font-semibold text-base"},[e._v("\n    "+e._s(e.$t("content.tags.title"))+"\n  ")]),e._v(" "),r("div",{staticClass:"teachers_tag__card-tags"},e._l(e.tags,(function(t,o){return r("card-tag",e._b({key:o,staticClass:"mr-2 mb-2"},"card-tag",t,!1))})),1)])}),[],!1,null,"6ddacb19",null).exports),S=r(1440),$=r(575),P=r(1437),T=r(1179),I=r(116),A=Object(c.defineComponent)({components:{DetailHeader:m.a,CommentSystem:f.a,IntroSection:_,TeachersTags:j,FeaturedDetailHeader:S.a,ProgramDetailsStats:$.a,PartSectionContainer:P.a,AppImage:I.a},props:{partSectionContainerConfig:{type:Array,default:function(){return[]}},programDetailsStatsConfig:{type:Object,default:function(){}},featuredDetailHeaderConfig:{type:Object,default:function(){}},teachersTagsConfig:{type:Object,default:function(){}},commentSystemConfig:{type:Object,default:function(){}},introTitle:{type:String,default:null},introContent:{type:String,default:null}},setup:function(e,t){var r=Object(T.a)(t);return{followActions:r.followActions,onMarkComplete:r.onMarkComplete,onComment:r.onComment,primaryBtnAction:function(e){t.emit("primaryBtnAction",e)},secondaryBtnAction:function(e){t.emit("secondaryBtnAction",e)},isAuthenticated:!t.root.$auth||t.root.$auth.$state.loggedIn}}}),D=(r(1553),Object(v.a)(A,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"program-detail-page flex flex-col"},[r("div",{staticClass:"program-detail-page__header w-full flex flex-col-reverse sm:flex-row justify-between px-1 sm:px-3 md:px-5"},[r("detail-header",{staticClass:"w-full lg:hidden ",attrs:{"hide-title":"","hide-mobile-title":"","use-default-back-action":"","hide-detail-header-add-button":""}})],1),e._v(" "),r("div",{staticClass:"program-detail-page__video_container"},[r("featured-detail-header",e._b({attrs:{"is-authenticated":e.isAuthenticated},on:{primaryBtnAction:e.primaryBtnAction,secondaryBtnAction:e.secondaryBtnAction}},"featured-detail-header",e.featuredDetailHeaderConfig,!1),[r("program-details-stats",e._b({},"program-details-stats",e.programDetailsStatsConfig,!1))],1)],1),e._v(" "),e.isAuthenticated?e._e():r("div",{staticClass:"program-detail-page__app-image-wrapper border-white flex justify-center px-4 w-full md:hidden xl:mr-8"},[r("app-image",{attrs:{src:e.featuredDetailHeaderConfig.mediaImg.src,width:"640"}})],1),e._v(" "),r("div",{staticClass:"program-detail-page__intro-section program-detail-x-alignment my-8"},[r("intro-section",{attrs:{title:e.introTitle,content:e.introContent}})],1),e._v(" "),e._l(e.partSectionContainerConfig,(function(t,o){return r("div",{key:o,staticClass:"program-detail-page__part-section mt-1"},[r("part-section-container",e._b({on:{followActions:e.followActions,markComplete:e.onMarkComplete,comment:e.onComment}},"part-section-container",t,!1))],1)})),e._v(" "),r("div",{staticClass:"program-detail-page__teachers-tags program-detail-x-alignment mt-6"},[r("teachers-tags",e._b({},"teachers-tags",e.teachersTagsConfig,!1))],1),e._v(" "),r("div",{staticClass:"program-detail-page__comment-system program-detail-x-alignment"},[r("comment-system",e._b({},"comment-system",e.commentSystemConfig,!1))],1)],2)}),[],!1,null,"429a7e5d",null).exports),E=r(155),B=r(1178),R=r(385),M=r(1045),H=r(3),F=r(95),G=r(35),L=r(117),N=r(222),U=r(162),Y=r(30);function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function z(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var V=Object(c.defineComponent)({components:{ProgramDetailPage:D},middleware:[function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.app.$accessor.SET_CONTENT_IS_LOADING(!0),e.next=4,t.app.$accessor.programs.detail.fetch({currentRoute:t.route});case 4:if(!t.app.$auth.loggedIn){e.next=16;break}return e.prev=6,e.next=9,t.app.$accessor.userPreferences.fetchAll(Y.a.CLASSES);case 9:return e.next=11,t.app.$accessor.programs.detail.fetchProgress();case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),console.log("error program details page -> ",e.t0);case 16:if(t.app.$accessor.SET_CONTENT_IS_LOADING(!1),t.app.$accessor.SET_DISPLAY_DETAIL_HEADER(!0),(r=t.app.$accessor.programs.detail.dto).alias===t.route.params.slug){e.next=21;break}throw new Error("Received invalid detail object: "+JSON.stringify(r));case 21:Object(E.i)(r,{$accessor:t.app.$accessor}),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),t.error({statusCode:e.t1.statusCode||404,message:e.t1.message});case 27:case"end":return e.stop()}}),e,null,[[0,24],[6,13]])})));return function(t){return e.apply(this,arguments)}}()],props:{},setup:function(e,t){var r=Object(c.computed)((function(){return t.root.$route.params.slug})),o=Object(c.computed)((function(){return t.root.$accessor.userPreferences.getFavorited(Y.a.CLASSES)})),n=W(t),l=n.partSectionContainerConfig,d=n.programDetailsStatsConfig,m=n.teachersTagsConfig,f=n.featuredDetailHeaderConfig,h=n.commentSystemConfig,C=n.introTitle,v=n.introContent,_=n.onFollowTeacherClick,y=n.onPrimaryButtonClick,x=n.onSecondaryButtonClick;return{slug:r,partSectionContainerConfig:l,programDetailsStatsConfig:d,teachersTagsConfig:m,featuredDetailHeaderConfig:f,commentSystemConfig:h,introTitle:C,introContent:v,onFollowTeacherClick:_,onMarkCompleteClick:n.onMarkCompleteClick,onPrimaryButtonClick:y,onSecondaryButtonClick:x,onCommentClick:n.onCommentClick,favoriteClasses:o}},head:function(){var e,t,r,o,n=Object(U.a)(this),l=null===(e=this.$accessor)||void 0===e||null===(t=e.programs)||void 0===t||null===(r=t.detail)||void 0===r?void 0:r.dto,c=(null===(o=this.$config)||void 0===o?void 0:o.baseUrl)||"https://www.ekhartyoga.com",path=this.$route.path,d=(null==l?void 0:l.metaTitle)||"EkhartYoga Program",m=Object(N.stripHtml)((null==l?void 0:l.metaDescription)||"").result,title=(null==l?void 0:l.title)||"EkhartYoga Program",desc=Object(N.stripHtml)((null==l?void 0:l.description)||"").result,f=Object(h.g)(null==l?void 0:l.media),C=null==l?void 0:l.tagCategories,v="";null!=C&&C.length&&(v=Object(F.c)(C).map((function(e){return e.name})).join(", "));return z(z({},n),{},{title:d||title,titleTemplate:"%s",meta:[{hid:"og:title",property:"og:title",content:d||title},{hid:"og:description",property:"og:description",content:m||desc},{hid:"description",name:"description",content:m||desc},{hid:"og:url",property:"og:url",content:c+path},{hid:"og:image",property:"og:image",content:f},{hid:"og:image:width",property:"og:image:width",content:"1280"},{hid:"og:image:height",property:"og:image:height",content:"720"},{hid:"keywords",name:"keywords",content:v}]})}}),W=function(e){var t=Object(c.reactive)({partSectionContainerConfig:[],programDetailsStatsConfig:{classesStats:0,weekStats:0,levelTag:"All levels",followersCount:0},teachersTagsConfig:{teachers:[],tags:[]},featuredDetailHeaderConfig:{title:"",description:"",primaryBtnTitle:"",secondaryBtnTitle:"",reverseElements:!1,progressBarEnabled:!1,progressBarValue:0,mediaImg:{src:"",alt:"",width:"",height:""}},commentSystemConfig:{title:"",commentUrl:"",apiUrl:"",token:"",params:{referenceSection:"",referenceId:"",skipCount:0,maxResultCount:5}},introTitle:e.root.$i18n.t("common.introduction"),introContent:"",nextProgramClassId:""}),r=Object(B.a)(e).getConfig,n=Object(R.a)(e).userId,m=Object(M.a)(e),f=m.toggleFollowProgram,C=m.followTeacher,v=Object(c.computed)((function(){return e.root.$accessor.programs.detail.dto})),_=function(){var r=Object(l.a)(regeneratorRuntime.mark((function r(o){var n,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.featuredDetailHeaderConfig.actionsInProgress=!0,r.next=4,f({programId:String(v.value.id),shouldBeFollowed:o});case 4:(n=r.sent)&&(c=v.value.id,m=void 0,(m={id:c}).following=null==(d=n)?void 0:d.following,e.root.$accessor.programs.detail.updateItem(m)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),"function"==typeof(null==e||null===(l=e.root)||void 0===l?void 0:l.$handleErrorGlobally)&&e.root.$handleErrorGlobally({message:null===r.t0||void 0===r.t0?void 0:r.t0.message,error:r.t0},{notify:!0,errorType:G.a.PROGRAM_FOLLOW});case 11:return r.prev=11,t.featuredDetailHeaderConfig.actionsInProgress=!1,r.finish(11);case 14:case"end":return r.stop()}var c,d,m}),r,null,[[0,8,11,14]])})));return function(e){return r.apply(this,arguments)}}(),y=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(r,data){var o,n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onFollowTeacherClick:",data),null==(o=data.teacherConfig)||!o.teacherId){t.next=17;break}return t.prev=3,o.actionInProgress=!0,t.next=7,C(o.teacherId,!o.isFollowed);case 7:(n=t.sent)&&(o.isFollowed=n.following),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),"function"==typeof(null==e||null===(l=e.root)||void 0===l?void 0:l.$handleErrorGlobally)&&e.root.$handleErrorGlobally({message:null===t.t0||void 0===t.t0?void 0:t.t0.message,error:t.t0},{notify:!0,errorType:G.a.TEACHER_PREFERENCE_UPDATE});case 14:return t.prev=14,o.actionInProgress=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[3,11,14,17]])})));return function(e,r){return t.apply(this,arguments)}}(),x=function(){var t=Object(l.a)(regeneratorRuntime.mark((function t(r,data){var section,o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("onMarkComplete:",data),!(section=data.section)){t.next=25;break}if(v.value.following){t.next=6;break}return console.log("The user is not following this program"),t.abrupt("return");case 6:if(!section.isCompleted){t.next=9;break}return console.log("Video class is already completed!"),t.abrupt("return");case 9:if(!section.partDetails.markCompleteInProgress){t.next=12;break}return console.log("Complete action is in progress!"),t.abrupt("return");case 12:return section.partDetails.markCompleteInProgress=!0,t.prev=13,t.next=16,e.root.$accessor.programs.detail.updateProgramClassProgress({programClassId:section.id,programLegacyId:null===(o=e.root.$accessor.programs)||void 0===o?void 0:o.detail.dto.legacyId,isCompleted:!0});case 16:section.partDetails.showMarkCompleteButton=!1,t.next=22;break;case 19:t.prev=19,t.t0=t.catch(13),"function"==typeof(null==e||null===(n=e.root)||void 0===n?void 0:n.$handleErrorGlobally)&&e.root.$handleErrorGlobally({message:null===t.t0||void 0===t.t0?void 0:t.t0.message,error:t.t0},{notify:!0,errorType:G.a.PROGRAM_CLASS_PROGRESS});case 22:return t.prev=22,section.partDetails.markCompleteInProgress=!1,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[13,19,22,25]])})));return function(e,r){return t.apply(this,arguments)}}();return Object(c.watch)(v,(function(o){if(o){t.introContent=o.introduction||"",console.log("watch - programDto",o.id);var l=Object(E.e)(o);if(l){var c=o.following,m=c?"classes.next":"programs.follow";l.primaryBtnTitle=e.root.$i18n.t(m),l.secondaryBtnTitle=c?e.root.$i18n.t("programs.unfollow"):"",t.featuredDetailHeaderConfig=l}var f=Object(E.f)(o,{dayjs:e.root.$dayjs});f&&(t.programDetailsStatsConfig=f);var C=Object(E.g)(o);t.teachersTagsConfig=C,t.nextProgramClassId=o.following&&Object(E.a)(o.programGroups)||"",console.log("nextProgramClassId:",t.nextProgramClassId);var v=Object(d.cloneDeep)(o),_=v.programGroups.map((function(e){return e.programClasses.map((function(e){return e.videoClass}))})).flat();Object(h.k)(_,e.root.$accessor.userPreferences.getFavorited(Y.a.CLASSES));var y=Object(E.d)(v,{dayjs:e.root.$dayjs,config:e.root.$config,userId:n.value,program:v,nextProgramClassId:t.nextProgramClassId,disableProgressIndicators:!v.following});t.partSectionContainerConfig=y,t.commentSystemConfig=r(o.title||"Comments for program: "+o.id,{referenceSection:"Program",referenceId:o.id})}}),{immediate:!0}),Object(c.onMounted)((function(){})),z(z({},Object(c.toRefs)(t)),{},{programDto:v,onFollowTeacherClick:y,onMarkCompleteClick:x,onPrimaryButtonClick:function(r){if(console.log("onPrimaryButtonClick:",r),window.location.hash&&h.a.resetUrl(window.location.pathname),!e.root.$auth.loggedIn)return e.root.$router.push(H.a.LOGIN);var n=!v.value.following,l=v.value.programGroups.map((function(e){return e.programClasses.map((function(e){return e.videoClass.alias===t.nextProgramClassId||e.id===t.nextProgramClassId?e:null}))})).flat().filter(Boolean)||!1,c=Object(o.a)(l,1)[0],d=!!c&&e.root.$dayjs()>e.root.$dayjs(c.videoClass.publishDate),m=v.value.following;if(n)return console.log("following program"),_(!0);m&&d&&h.a.scrollToNextClass(t.nextProgramClassId)},onSecondaryButtonClick:function(t){return console.log("onSecondaryButtonClick:",t),e.root.$auth.loggedIn?(e.root.$repositories.programs.resetProgramCompletion(v.value.id).then((function(){return e.root.$accessor.programs.detail.fetch({currentRoute:e.root.$route})})),_(!1)):e.root.$router.push(H.a.LOGIN)},onCommentClick:function(t,data){var r,o;if(console.log("onCommentClick",data),!e.root.$auth.loggedIn)return e.root.$router.push(H.a.LOGIN);var video=null===(r=data.section)||void 0===r||null===(o=r.partDetails)||void 0===o?void 0:o.video;if(video){var link=Object(L.a)(video);e.root.$router.push({path:link,query:{comment:"true"}})}}})},K=V,Q=(r(1555),Object(v.a)(K,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"programs-id-index-slug"},[r("program-detail-page",{staticClass:"mt-8",attrs:{"part-section-container-config":e.partSectionContainerConfig,"program-details-stats-config":e.programDetailsStatsConfig,"featured-detail-header-config":e.featuredDetailHeaderConfig,"teachers-tags-config":e.teachersTagsConfig,"comment-system-config":e.commentSystemConfig,"intro-title":e.introTitle,"intro-content":e.introContent},on:{followActions:e.onFollowTeacherClick,markComplete:e.onMarkCompleteClick,comment:e.onCommentClick,primaryBtnAction:e.onPrimaryButtonClick,secondaryBtnAction:e.onSecondaryButtonClick}})],1)}),[],!1,null,"14c01b68",null));t.default=Q.exports}}]);